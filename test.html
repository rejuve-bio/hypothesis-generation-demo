<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Request</title>
</head>
<body>
    <h1>Send POST Request</h1>
    <button id="sendRequest">Send Request</button>

    <script>
        document.getElementById('sendRequest').addEventListener('click', function () {
            // Create a new FormData object
            const formData = new FormData();
            formData.append('causal_gene', 'IRX3');
            formData.append('causal_graph', JSON.stringify({
                nodes: [
                    { id: "ensg00000125798", type: "gene" },
                    { id: "ensg00000140718", type: "gene" },
                    { id: "ensg00000177508", type: "gene" },
                    { id: "rs1421085", type: "snp" },
                    { id: "chr16_53741418_53785411_grch38", type: "super_enhancer" },
                    { id: "chr16_53744537_53744917_grch38", type: "tfbs" }
                ],
                edges: [
                    { source: "rs1421085", target: "ensg00000177508", label: "eqtl_association" },
                    { source: "rs1421085", target: "ensg00000177508", label: "in_tad_with" },
                    { source: "rs1421085", target: "chr16_53741418_53785411_grch38", label: "in_regulatory_region" },
                    { source: "chr16_53741418_53785411_grch38", target: "ensg00000140718", label: "associated_with" },
                    { source: "rs1421085", target: "ensg00000125798", label: "alters_tfbs" },
                    { source: "ensg00000125798", target: "ensg00000177508", label: "regulates" },
                    { source: "ensg00000125798", target: "chr16_53744537_53744917_grch38", label: "binds_to" },
                    { source: "chr16_53744537_53744917_grch38", target: "chr16_53741418_53785411_grch38", label: "overlaps_with" }
                ]
            }));
            formData.append('go_id', 'GO:0051247');
            formData.append('go_name', 'Positive Regulation Of Protein Metabolic Process');
            formData.append('variant_id', 'rs1421085');
            formData.append('genes', 'RPS4X;RPL5;VCP;HSP90AA1;PRKDC;NR1H3;APOE;VIM;AURKAIP1;EEF2;SOX4;EIF4G1');
            formData.append('phenotype', 'Obesity');

            // Send the POST request with the token in the headers
            fetch('http://localhost:5001/hypothesis', {
                method: 'POST',
                body: formData,
                headers: {
                    'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiNjZjNTk4MTY1ZDRjMmYyY2Q2Y2NhZWQ2IiwiZXhwIjoxNzI0MjMyOTc3fQ.8hu3qcieqv2tYnoAoEQ0Fvg-v5iYm5fDMBMx0UaYcUE'
                }
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
